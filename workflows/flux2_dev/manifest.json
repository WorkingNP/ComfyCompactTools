{
  "$schema": "../../docs/manifest.schema.json",
  "id": "flux2_dev",
  "name": "Flux 2 Dev",
  "description": "Flux 2 development model with fp8 mixed precision. Note: May produce black images on some setups.",
  "version": "1.0.0",
  "template_file": "template_api.json",

  "params": {
    "prompt": {
      "type": "string",
      "required": true,
      "description": "The text prompt for image generation",
      "patch": {
        "node_id": "6",
        "field": "inputs.text"
      }
    },
    "seed": {
      "type": "integer",
      "required": false,
      "default": -1,
      "min": -1,
      "max": 2147483647,
      "description": "Random seed (-1 for random)",
      "patch": {
        "node_id": "25",
        "field": "inputs.noise_seed"
      }
    },
    "width": {
      "type": "integer",
      "required": false,
      "default": 1024,
      "min": 256,
      "max": 2048,
      "description": "Output image width",
      "patch": {
        "node_id": "47",
        "field": "inputs.width"
      }
    },
    "height": {
      "type": "integer",
      "required": false,
      "default": 1024,
      "min": 256,
      "max": 2048,
      "description": "Output image height",
      "patch": {
        "node_id": "47",
        "field": "inputs.height"
      }
    },
    "width_scheduler": {
      "type": "integer",
      "required": false,
      "default": 1024,
      "min": 256,
      "max": 2048,
      "description": "Scheduler width (should match image width)",
      "patch": {
        "node_id": "48",
        "field": "inputs.width"
      }
    },
    "height_scheduler": {
      "type": "integer",
      "required": false,
      "default": 1024,
      "min": 256,
      "max": 2048,
      "description": "Scheduler height (should match image height)",
      "patch": {
        "node_id": "48",
        "field": "inputs.height"
      }
    },
    "steps": {
      "type": "integer",
      "required": false,
      "default": 20,
      "min": 1,
      "max": 100,
      "description": "Number of sampling steps",
      "patch": {
        "node_id": "48",
        "field": "inputs.steps"
      }
    },
    "guidance": {
      "type": "number",
      "required": false,
      "default": 4.0,
      "min": 1.0,
      "max": 20.0,
      "description": "Flux guidance scale",
      "patch": {
        "node_id": "26",
        "field": "inputs.guidance"
      }
    },
    "sampler_name": {
      "type": "string",
      "required": false,
      "default": "euler",
      "description": "Sampling algorithm",
      "patch": {
        "node_id": "16",
        "field": "inputs.sampler_name"
      }
    },
    "batch_size": {
      "type": "integer",
      "required": false,
      "default": 1,
      "min": 1,
      "max": 8,
      "description": "Number of images to generate",
      "patch": {
        "node_id": "47",
        "field": "inputs.batch_size"
      }
    }
  },

  "presets": {
    "default": {
      "width": 1024,
      "height": 1024,
      "width_scheduler": 1024,
      "height_scheduler": 1024,
      "steps": 20,
      "guidance": 4.0
    },
    "fast": {
      "steps": 10,
      "guidance": 3.5
    }
  },

  "quality_checks": {
    "black_threshold": 0.01,
    "white_threshold": 0.99,
    "skip_checks": true
  }
}
